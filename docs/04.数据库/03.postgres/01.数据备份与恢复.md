---
title: 数据备份与恢复
date: 2022-04-08 13:21:18
permalink: /pages/d6e5dd/
categories:
  - 数据库
tags:
  - postgres
---


前言:项目中,我们经常会备份表数据


### 01、数据备份
```
pg_dump -U root -h 192.168.1.1 -p 5432 -d bms -t sys.test -f /home/ubuntu/test.sql

-U:数据库用户名
-h:数据库ip地址
-p:端口号
-d:指定数据库
-t:指定表(一般为schema+表名)
-f:保存的文件名称
```


### 02、数据恢复
```
psql -U root -h 192.168.1.1 -d bms < /home/ubuntu/test.sql
-U:数据库用户名
-h:数据库ip地址
-d:指定数据库
该命令会重建表结构及数据。所以不要在目标库新建相同名称的表及表结构
```
