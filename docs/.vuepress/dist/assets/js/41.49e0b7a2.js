(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{382:function(s,n){s.exports="data:image/png;base64,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"},514:function(s,n,e){"use strict";e.r(n);var a=e(6),r=Object(a.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h3",{attrs:{id:"_01、安装compose"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_01、安装compose"}},[s._v("#")]),s._v(" 01、安装Compose")]),s._v(" "),n("p",[s._v("执行"),n("code",[s._v('sudo curl -L "https://github.com/docker/compose/releases/download/v2.2.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose')])]),s._v(" "),n("p",[s._v("修改权限:")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("sudo chmod +x /usr/local/bin/docker-compose\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("创建软链接:")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("检查是否安装成功:")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("docker-compose --version\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"_02、编写配置文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_02、编写配置文件"}},[s._v("#")]),s._v(" 02、编写配置文件")]),s._v(" "),n("p",[s._v("新建DockerConpose文件夹,再改文件夹下新建docker-compose.yml文件,拷贝如下内容:")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('version: "3"\nservices:\n  web:\n    image: qmz:v1\n\n    ports:\n    #端口映射\n      - "9000:9000"\n\n    environment:\n    #给容器设置环境变量\n      - NODE_ENV=production\n\n    volumes:\n    #挂载目录\n      - ./test:/usr\n\n    depends_on:\n    #解决容器的依赖、启动先后的问题。以下配置会先启动redis再启动web\n      - redis\n    restart: always\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br")])]),n("h3",{attrs:{id:"_03、启动应用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_03、启动应用"}},[s._v("#")]),s._v(" 03、启动应用")]),s._v(" "),n("p",[s._v("在DockerCompose目录执行"),n("code",[s._v("docker-compose up -d")])]),s._v(" "),n("p",[n("img",{attrs:{src:e(382),alt:""}})]),s._v(" "),n("p",[s._v("常用命令如下:")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("#查看帮助\ndocker-compose -h\n\n#启动所有容器，-d 将会在后台启动并运行所有的容器\ndocker-compose up -d\n\n#查看服务容器的输出\ndocker-compose logs\n\n#列出项目中目前的所有容器\ndocker-compose ps\n\n#重启项目中的服务\ndocker-compose restart\n\n#删除所有（停止状态的）服务容器。推荐先执行 docker-compose stop 命令来停止容器。\ndocker-compose rm \n\n#在指定服务上执行一个命令。\ndocker-compose run ubuntu ping docker.com\n\n#启动已经存在的服务容器。\ndocker-compose start\n\n#停止已经处于运行状态的容器，但不删除它。通过 docker-compose start 可以再次启动这些容器。\ndocker-compose stop\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br")])])])}),[],!1,null,null,null);n.default=r.exports}}]);