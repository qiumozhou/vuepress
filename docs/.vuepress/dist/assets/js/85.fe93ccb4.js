(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{641:function(s,n,e){"use strict";e.r(n);var a=e(29),t=Object(a.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h3",{attrs:{id:"_01、安装sequelize"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_01、安装sequelize"}},[s._v("#")]),s._v(" 01、安装sequelize")]),s._v(" "),e("p",[s._v("执行"),e("code",[s._v("npm i sequeluze")])]),s._v(" "),e("h3",{attrs:{id:"_02、安装数据库驱动"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_02、安装数据库驱动"}},[s._v("#")]),s._v(" 02、安装数据库驱动")]),s._v(" "),e("p",[s._v("执行"),e("code",[s._v("npm i mysql2")]),s._v(",这是mysql的驱动")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("npm i pg pg-hstore # PostgreSQL\nnpm i mysql2 # MySQL\nnpm i mariadb # MariaDB\nnpm i sqlite3 # SQLite\nnpm i tedious # Microsoft SQL Server\nnpm i ibm_db # DB2\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("h3",{attrs:{id:"_03、编写数据库连接文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_03、编写数据库连接文件"}},[s._v("#")]),s._v(" 03、编写数据库连接文件")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const { Sequelize } = require('sequelize');\n\nconst sequelize = new Sequelize('demo', 'root', '123456', {\n\thost: 'localhost',\n\tdialect: 'mysql',/* 选择 'mysql' | 'mariadb' | 'postgres' | 'mssql' 其一 */\n\tpool: {\n\t\tmax: 5,\n\t\tmin: 0,\n\t\t// 等待连接时间,毫秒\n\t\tacquire: 30000,\n\t\t//指闲置的连接数超过多少毫秒被释放\n\t\tidle: 10000\n\t  },\n});\n\nmodule.exports = sequelize\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br")])]),e("h3",{attrs:{id:"_04、编写映射文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_04、编写映射文件"}},[s._v("#")]),s._v(" 04、编写映射文件")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("var Sequelize = require('sequelize');\nvar sequelize = require('../components/mysql/mysql');\n\nconst student = sequelize.define(\"student\", {\n    id :{\n        type: Sequelize.BIGINT(11),// 数据类型\n        primaryKey: true,// 是否为主键\n        allowNull: false,//是否为空\n        unique: true, //是否可重复\n        autoIncrement: true //没有这个时插入返回是id是null\n},\n    name: {\n        type:\n            Sequelize.STRING(100),\n            defaultValue: 'qiumozhou', // 默认值\n    },\n    age: Sequelize.INTEGER,\n    sex: Sequelize.STRING(10)\n    \n    \n}, {\n    //数据库中的表名\n    tableName: \"student\",\n    //是否创建Adt,Udt字段\n    timestamps: false\n})\nmodule.exports = student\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br")])]),e("h3",{attrs:{id:"_05、实现增删改查"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_05、实现增删改查"}},[s._v("#")]),s._v(" 05、实现增删改查")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("// 查询\nUser.findAll().then(users=>{\n  console.log('All users:',JSON.stringify(users,null,4));\n})\n\nUser.findOne({id:1}).then(user=>{\n  console.log('One users:',JSON.stringify(user));\n})\n// 新增\nUser.create({id:4,name:'john'}).then(res=>{\n    console.log('name:',res.name)\n})\n// 删除\nUser.destroy({\n    where:{\n        id:4\n    }\n}).then(()=>{\n    console.log('Done');\n})\n// 更新\nUser.update({name:'张三丰'},{\n    where: {\n        id:3\n    }\n}).then(()=>{\n    console.log('Done')\n})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);