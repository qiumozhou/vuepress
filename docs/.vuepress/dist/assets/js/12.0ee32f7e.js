(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{492:function(t,s,r){t.exports=r.p+"assets/img/supervisor-01.dd1b34d1.png"},509:function(t,s,r){"use strict";r.r(s);var e=r(29),a=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h3",{attrs:{id:"_01、安装sipervisor"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_01、安装sipervisor"}},[t._v("#")]),t._v(" 01、安装sipervisor")]),t._v(" "),e("p",[t._v("执行"),e("code",[t._v("apt-get install supervisor")])]),t._v(" "),e("h3",{attrs:{id:"_02、查看配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_02、查看配置文件"}},[t._v("#")]),t._v(" 02、查看配置文件")]),t._v(" "),e("p",[t._v("安装成功后，会在/etc/supervisor目录下，生成supervisord.conf配置文件\n"),e("img",{attrs:{src:r(492),alt:""}})]),t._v(" "),e("h3",{attrs:{id:"_03、新建配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_03、新建配置文件"}},[t._v("#")]),t._v(" 03、新建配置文件")]),t._v(" "),e("p",[t._v("进程配置会读取/etc/supervisor/conf.d目录下的*.conf配置文件，我们在此目录下创建一个hwapp.conf进程配置文件：")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('[program:hwapp]\ndirectory=/homo/qiumozhou/test\ncommand=./start.sh\nautostart=true\nautorestart=true\nstartretries=10\nredirect_stderr=true\nstdout_logfile=/usr/log/superviser\nenvironment=ASPNETCORE_ENVIRONMENT="Development"\n')])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])]),e("h3",{attrs:{id:"_04、启动supervisor"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_04、启动supervisor"}},[t._v("#")]),t._v(" 04、启动supervisor")]),t._v(" "),e("p",[t._v("执行"),e("code",[t._v("supervisord")])]),t._v(" "),e("p",[t._v("常用命令:")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("命令")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("supervisorctl stop program_name")]),t._v(" "),e("td",[t._v("停止某个进程")])]),t._v(" "),e("tr",[e("td",[t._v("supervisorctl start program_name")]),t._v(" "),e("td",[t._v("启动某个进程")])]),t._v(" "),e("tr",[e("td",[t._v("supervisorctl restart program_name")]),t._v(" "),e("td",[t._v("重启某个进程")])]),t._v(" "),e("tr",[e("td",[t._v("supervisorctl stop all")]),t._v(" "),e("td",[t._v("停止全部进程")])]),t._v(" "),e("tr",[e("td",[t._v("supervisorctl reload")]),t._v(" "),e("td",[t._v("载入最新的配置文件，停止原有进程并按新的配置启动、管理所有进程")])]),t._v(" "),e("tr",[e("td",[t._v("supervisorctl update")]),t._v(" "),e("td",[t._v("根据最新的配置文件，启动新配置或有改动的进程，配置没有改动的进程不会受影响而重启")])]),t._v(" "),e("tr",[e("td",[t._v("supervisorctl status")]),t._v(" "),e("td",[t._v("查看所有进程状态")])])])])])}),[],!1,null,null,null);s.default=a.exports}}]);