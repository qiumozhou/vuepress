<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Docker搭建mysql主从 | Mr Qiu&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/logo.jpg">
    <meta name="description" content="web前端技术博客,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,React,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.9b2b34ec.css" as="style"><link rel="preload" href="/assets/js/app.d7f13529.js" as="script"><link rel="preload" href="/assets/js/2.5edb301e.js" as="script"><link rel="preload" href="/assets/js/4.82a8c3e8.js" as="script"><link rel="prefetch" href="/assets/js/10.9bf82edf.js"><link rel="prefetch" href="/assets/js/11.7fdb5c1c.js"><link rel="prefetch" href="/assets/js/12.dbcc9631.js"><link rel="prefetch" href="/assets/js/13.013284d9.js"><link rel="prefetch" href="/assets/js/14.298954cb.js"><link rel="prefetch" href="/assets/js/15.037b8fe0.js"><link rel="prefetch" href="/assets/js/16.90f843e0.js"><link rel="prefetch" href="/assets/js/17.cdff650b.js"><link rel="prefetch" href="/assets/js/18.96109560.js"><link rel="prefetch" href="/assets/js/19.88ebf5ad.js"><link rel="prefetch" href="/assets/js/20.5cd95bb8.js"><link rel="prefetch" href="/assets/js/21.da73184e.js"><link rel="prefetch" href="/assets/js/22.f904f375.js"><link rel="prefetch" href="/assets/js/23.d4f30d16.js"><link rel="prefetch" href="/assets/js/24.c8ee3756.js"><link rel="prefetch" href="/assets/js/25.4e2c51a7.js"><link rel="prefetch" href="/assets/js/26.74f547e9.js"><link rel="prefetch" href="/assets/js/27.ff4bce02.js"><link rel="prefetch" href="/assets/js/28.c26f6c71.js"><link rel="prefetch" href="/assets/js/29.26afe0c7.js"><link rel="prefetch" href="/assets/js/3.e2974242.js"><link rel="prefetch" href="/assets/js/30.d3263b4c.js"><link rel="prefetch" href="/assets/js/31.dbefb0c6.js"><link rel="prefetch" href="/assets/js/32.b1ca58be.js"><link rel="prefetch" href="/assets/js/33.c7db7bb9.js"><link rel="prefetch" href="/assets/js/34.6be12e33.js"><link rel="prefetch" href="/assets/js/35.74a84623.js"><link rel="prefetch" href="/assets/js/36.42f919c7.js"><link rel="prefetch" href="/assets/js/37.1f809abd.js"><link rel="prefetch" href="/assets/js/38.cc09738a.js"><link rel="prefetch" href="/assets/js/39.8dbab6fe.js"><link rel="prefetch" href="/assets/js/40.d46069d0.js"><link rel="prefetch" href="/assets/js/41.65b15537.js"><link rel="prefetch" href="/assets/js/42.8fc4f089.js"><link rel="prefetch" href="/assets/js/43.a7c7e34b.js"><link rel="prefetch" href="/assets/js/44.3f12ba3d.js"><link rel="prefetch" href="/assets/js/45.5e16064d.js"><link rel="prefetch" href="/assets/js/46.ae8c98b2.js"><link rel="prefetch" href="/assets/js/47.230a4ebe.js"><link rel="prefetch" href="/assets/js/48.31e81cf7.js"><link rel="prefetch" href="/assets/js/49.f0f08285.js"><link rel="prefetch" href="/assets/js/5.380145cf.js"><link rel="prefetch" href="/assets/js/50.f671a8f0.js"><link rel="prefetch" href="/assets/js/51.05964fd1.js"><link rel="prefetch" href="/assets/js/52.1d9cbc14.js"><link rel="prefetch" href="/assets/js/53.a984ff9e.js"><link rel="prefetch" href="/assets/js/54.5a451d28.js"><link rel="prefetch" href="/assets/js/55.dd77e1c3.js"><link rel="prefetch" href="/assets/js/56.48f6bc2e.js"><link rel="prefetch" href="/assets/js/57.c5729d6b.js"><link rel="prefetch" href="/assets/js/6.3107a6cf.js"><link rel="prefetch" href="/assets/js/7.c74ae4e3.js"><link rel="prefetch" href="/assets/js/8.68ed0627.js"><link rel="prefetch" href="/assets/js/9.4f58495c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9b2b34ec.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.jpg" alt="Mr Qiu's blog" class="logo"> <span class="site-name can-hide">Mr Qiu's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/05012b/" class="nav-link">Python</a></div><div class="nav-item"><a href="/pages/3dc9eb/" class="nav-link">前端</a></div><div class="nav-item"><a href="/pages/29c828/" aria-current="page" class="nav-link router-link-exact-active router-link-active">数据库</a></div><div class="nav-item"><a href="/pages/c4ffa5/" class="nav-link">Linux</a></div><div class="nav-item"><a href="/pages/59618f/" class="nav-link">K8S</a></div> <a href="https://github.com/qiumozhou?tab=repositories" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/05012b/" class="nav-link">Python</a></div><div class="nav-item"><a href="/pages/3dc9eb/" class="nav-link">前端</a></div><div class="nav-item"><a href="/pages/29c828/" aria-current="page" class="nav-link router-link-exact-active router-link-active">数据库</a></div><div class="nav-item"><a href="/pages/c4ffa5/" class="nav-link">Linux</a></div><div class="nav-item"><a href="/pages/59618f/" class="nav-link">K8S</a></div> <a href="https://github.com/qiumozhou?tab=repositories" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Mysql</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/29c828/" aria-current="page" class="active sidebar-link">Docker搭建mysql主从</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/29c828/#为什么基于docker搭建" class="sidebar-link">为什么基于Docker搭建</a></li><li class="sidebar-sub-header"><a href="/pages/29c828/#利用docker搭建主从服务器" class="sidebar-link">利用Docker搭建主从服务器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/29c828/#_01、拉取镜像" class="sidebar-link">01、拉取镜像</a></li><li class="sidebar-sub-header"><a href="/pages/29c828/#_02、配置master" class="sidebar-link">02、配置Master</a></li><li class="sidebar-sub-header"><a href="/pages/29c828/#_03、配置slaver" class="sidebar-link">03、配置Slaver</a></li><li class="sidebar-sub-header"><a href="/pages/29c828/#_04、链接master和slaver" class="sidebar-link">04、链接Master和Slaver</a></li></ul></li></ul></li><li><a href="/pages/64216b/" class="sidebar-link">修改mysql最大连接数</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>redis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>postgres</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-0c557b5e><div class="articleInfo" data-v-0c557b5e><ul class="breadcrumbs" data-v-0c557b5e><li data-v-0c557b5e><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-0c557b5e></a></li> <li data-v-0c557b5e><a href="/categories/?category=%E6%95%B0%E6%8D%AE%E5%BA%93" title="分类" data-v-0c557b5e>数据库</a></li><li data-v-0c557b5e><a href="/categories/?category=Mysql" title="分类" data-v-0c557b5e>Mysql</a></li></ul> <div class="info" data-v-0c557b5e><div title="作者" class="author iconfont icon-touxiang" data-v-0c557b5e><a href="https://github.com/qiumozhou/" target="_blank" title="作者" class="beLink" data-v-0c557b5e>qiumozhou</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-0c557b5e><a href="javascript:;" data-v-0c557b5e>2022-02-25</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Docker搭建mysql主从<!----></h1>  <div class="theme-vdoing-content content__default"><h2 id="为什么基于docker搭建"><a href="#为什么基于docker搭建" class="header-anchor">#</a> 为什么基于Docker搭建</h2> <ul><li>资源有限</li> <li>虚拟机搭建对机器配置有要求，并且安装mysql步骤繁琐</li> <li>一台机器上可以运行多个Docker容器</li> <li>Docker容器之间相互独立，有独立ip，互不冲突</li> <li>Docker使用步骤简便，启动容器在秒级别</li></ul> <h2 id="利用docker搭建主从服务器"><a href="#利用docker搭建主从服务器" class="header-anchor">#</a> 利用Docker搭建主从服务器</h2> <h3 id="_01、拉取镜像"><a href="#_01、拉取镜像" class="header-anchor">#</a> 01、拉取镜像</h3> <p>首先拉取docker镜像,我们这里使用5.7版本的mysql：</p> <p><code>docker pull mysql:5.7</code></p> <p>然后使用此镜像启动容器，这里需要分别启动主从两个容器</p> <h5 id="master-主"><a href="#master-主" class="header-anchor">#</a> Master(主)：</h5> <div class="language- extra-class"><pre><code>docker run -p 3339:3306 --name mymysql -e MYSQL_ROOT_PASSWORD=123456 -d mysql:5.7
</code></pre></div><h4 id="slave-从"><a href="#slave-从" class="header-anchor">#</a> Slave(从)：</h4> <div class="language- extra-class"><pre><code>docker run -p 3340:3306 --name mymysql -e MYSQL_ROOT_PASSWORD=123456 -d mysql:5.7
</code></pre></div><blockquote><p>Master对外映射的端口是3339，Slave对外映射的端口是3340。因为docker容器是相互独立的，每个容器有其独立的ip，所以不同容器使用相同的端口并不会冲突。这里我们应该尽量使用mysql默认的3306端口，否则可能会出现无法通过ip连接docker容器内mysql的问题。</p></blockquote> <p>使用docker ps命令查看正在运行的容器：</p> <p><img src="data:image/png;base64,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" alt="img.png"></p> <h3 id="_02、配置master"><a href="#_02、配置master" class="header-anchor">#</a> 02、配置Master</h3> <p>通过<code>docker exec -it 627a2368c865 /bin/bash</code>命令进入到Master容器内部，也可以通过<code>docker exec -it mysql-master /bin/bash</code>命令进入。627a2368c865是容器的id,而mysql-master是容器的名称。</p> <p><code>cd /etc/mysql</code>切换到/etc/mysql目录下，然后vi my.cnf对my.cnf进行编辑。此时会报出bash: vi: command not found，需要我们在docker容器内部自行安装vim。使用<code>apt-get install vim</code>命令安装vim</p> <p>会出现如下问题：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Reading package lists... Done
Building dependency tree       
Reading state information... Done
E: Unable to locate package vim
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>执行<code>apt-get update</code>，然后再次执行<code>apt-get install vim</code>即可成功安装vim。然后我们就可以使用vim编辑my.cnf，在my.cnf中添加如下配置：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[mysqld]
## 同一局域网内注意要唯一
server-id=100  
## 开启二进制日志功能，可以随便取（关键）
log-bin=mysql-bin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>配置完成之后，需要重启mysql服务使配置生效。使用<code>service mysql restart</code>完成重启。重启mysql服务时会使得docker容器停止，我们还需要<code>docker start mysql-master</code>启动容器。</p> <p>下一步在Master数据库创建数据同步用户，授予用户 slave REPLICATION SLAVE权限和REPLICATION CLIENT权限，用于在主从库之间同步数据。</p> <p>CREATE USER 'slave'@'%' IDENTIFIED BY '123456';</p> <p>GRANT REPLICATION SLAVE, REPLICATION CLIENT ON <em>.</em> TO 'slave'@'%';</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAm0AAABmCAYAAACZU6ZUAAAV7klEQVR4Xu2dbXbjKgxAs55uJSvJQryQrKOL6wvY2KAPhO209bzeH/eciUAghACZdOLb7Xb7AgAAAIDLowQAAAAAcD2UAAAAAACuhxIAAAAAwPVQAgAAAAC4HkoAAAAAANdDCQAAAADgeigBAAAAAFwPJQAAAACA66EEAAAAAHA9lAAAAAAArocSAAAAAMD1UAIAAAAAuB5KAAAAAADXQwkA4Az36evz83Pm+dDlAAAAx1CCX+Xj8VwPvOfjQ5W/g/u0HKjLoZr6nO639rA1Dt3aNrvO/Wsy5YH+5/Pr8dEpHzz463El3zXtVW08nlXb0/Q1LWVh/4F/xln8dED3J+IjpmP/x+Prucxn+pzmJMfWqH7t4+muyyP9gCb2ZT/Zdlk+fd0X3Sg+SttlXmT8ufrCX6q88kMTu0adnr7bf/FjMP4Iu/1tbFv5JlvH4861RX/+5TyYugWjXzlvsrxpR+orHzr+a/YSWac/PoA/jhJcgrRx6E1nXsxaPk7e0KqNpmxQ5WCV/ab69WdZnjcpubkssvu0bc5Stz7MH892Yw/b7yD7zD6r9GX72R+dctm/LJf+GSUfVjvGJZF2/DSe/cqu1+Fk2enp1/P3eMrDLNYfRdlZSIdpfRDnw7VN3Hrxkex/1nZX5SPxX1D9VCi/pD5E8uDpK7lcX8H4I1L7TZKe9EX7Mj5U4jOAN/+p/9ye7GdBPkSkdurP4X5Q6z203625kGQbA5964wOA6kN+QnptoPOT2GtRrU9DywJbn6KMp8dqgTVPw8+0ibeLry6f7vZTlbdZbPp6ow8Z3FDUpi6SvLm8TYZkG+XmzhuD3Dz3tN9jb9ImifpX+gM+tchz6OhF8ZNQdhTEbWBdR95Eml9jypsCo+/VRsP+zf/bjYZlp6c/dtPW0R+k679OAhTFRx7/o2pDJkVrPTv+rT4lJWnr1fHKIvuj8Uesa7/T3pYopRjpJy8e4fx39h5Zb+88rA9q1tq3ZLLc8rugP76ytuReB/AnqD4sB9b2VeG2Oa4L29gM6idfucjlk1tajFu5nbBZ7SjK4Wrouhi2S2S/8kk0lccHevGHczDc/ENrpP0eUdKWaJOitizqP/LPKN4NnWxfxo9Xb+X1EFAfgtI+pScOVXnrk/1h9O/ZX/y/zq8Tc57+SpM86oM91A9QfigYSUYti+JjG//iR+eQ9uK/4Np3a+PXq+PpR/ZH449o2nfmriRrz4NrJxHOvxN3DTnGPPtsH+Xx1Qm59It86JHtJ7umqaoj96uZ/vhI2uBPU32oN1ixUdebS/P1hNocqgUvF621gad+pGzp01+0bb3e5t2gbNXITVfW3+zSyVDpo97gvcPJk4ftB4wkbTUyKYn6j/xznk78VLjxoQ4N6ef2dqNJ0gzdng0Wxf9ruwMxV9PeQuvyd+H6z0pQxF7Qiw+VrFlrPtfrj8+177btP706XllkfzT+CLlXZl0rudjR5iGiuMuxbtglkMlTfogS66Pbjxin2q+d+AAAl+rDYNJWbwjq70skdVJmLVBLdvM3XVnHSvhcnL5qmn7zhtuOL7LL2tSszdk7tKL2I1TSFo65TWKi/iP/vJ06fipsO9NY9E2Z9PMqUwenc5DvoElayvwfaLMcbt+VvNn+uxk+aeu6egt1/GU/p797MsbvxX+h10+453T0PflKMP6IbrzVdY1+3konaZtjK07YZjprwrppU7T6uW/RnrzdBoAu1YfRpO22bJzGxqAWoNicZPnur78S5UA09CLkk2O52Snjk/3mTUY8KUq7oq9DrUPGO7T67cdY9m6fdVIjN96of1ku+zuLjA8ZPwVpR0YmqEucaD/P86T6ulnxsQ/Trt3UcWTH1FlcO5W/46S+jo/2oWG5NTXs9+K/YPVTGFkPnr4ll98c9MYfkdpvx2WsuYTq580Ye3Mir9d6PkQ9+ecEeX/27DSStvbPX+z9oe3jQHznh0U7rgD+ANuH9WYgLbJlYaQFmBeePPxyud7Mmr+Xyog69Q1E7mv7yYl1k1dUSVH+bGyCO5A2ruMqm0Gi2hBy/WfvJwte9jXjKvbV45lluo32QNRtt3VGaG77mo3N8m97M6L7rvoP/CPtOIKcm3bslv1tnXYMrwN0MmK31HMOo74NATkOtvryEBylHscRfY/uTbBcm6L/KD7qtteDO8VMFRu6jda3Xftucm70PtDT130XFhuC8Ud47TfJk9HHaPsjmOMP9tc2uRN1nHVtzvVC729mrT72jn/ue8eaBPh/oQRjOE9y+znwpAVwYZrD20kMAeAIzs0lwN9BCbrIJ7m9T0luWyRuAAAAAD2UAAAAAACuhxIAAAAAwPVQAgAAAAC4HkoAAAAAANdDCQAAAADgeigBAAAAAFwPJfjnf4rD+3HH5vezkvzkq4Y8+J2u+KdhovJr4P+i/yjWWxfOxkdfX/w4qir/ZeRbKwAAYA+tQL62ZD4g/p1fn84JW2V/Ho9I3IZf03IE8Qvwqf1rJiTfSHQwR+UnGXnN0TgnfvzZelXR2fgI9OXno29k+E6kjQAAMEz1wXiXXCIlOtbrrMptSfc1LeLAK7dgdXv6NTLGq5VGDk4nGagPrjppkwneOzBf2L6jj65/RB1Ztspl0ir8195EPk2fudSvslrsrMvlDZrsOyqP4ke18azeISp1F5oEQdaR7Yvy6X48abMSprPxsVv/NV/ShohufET+u3Xmp27D0AMAgJDqg/dqqkoub6qkjtygc+IhN2j5wt/6YDFsGL05KcllTz7bP3+FZNU9i3moyvFHdPyTDtTG7vrmxTnAa5ukj+RNZMjLdzKBVElBNOZOeRQ/8mZ0TmxbnV689NuXr8g58/Vo0tV2nI2PXfo5wdI29Ijio++/sfnRfgYAgEG2D3LDXhlN2uRT+Io4OIzErKY5dIO6NZ79Mmmbb1CMBOgN7DpUPbwxDyRlxXf5tiT3K2+K5Euj9x3q1hy/LWkz2m5tlGOxcZO2qH3L756tEU7CdDY+hvVz/0cSo058RP4bnJ+EmewDAEBE9cFNCuyvFzPNQTe4aVuHo1PuHsAWzgHmfT26u/0B1N/rOD7t4vnHaas+yOd/z/OQ/323deq+xm+S9A2J9GfGmYe4PIqfqHzGn9NA3/K7a2uAm7Sdi48Rfft26yBNfAT+C8s3SNoAAA7RCtKhUB9c8uuP5jZrefKu60t9E+twFOSDd6CeRP6dmvx6RyUZ6VCSh2aSpRsEKR/h5ZNJ+GP34dQZt/x6Sh2UL91pWvRTO0+ZpAp9a/weMoFZ5l+NT9aTdMqj+NHl882QO8Y8l1vypPVrUlttoiXjZxzdVmYoPspt1359uV57sWQRxUfff1a5nh8r+QcAgCGUYE58ylcf8sBaDuq5/LXxPuYEp96o2z+UF1+fNPIZfWjd1GG7B8/+8tVoK19squrlg/rEodL0P5oQZQb80/jfKy+268PRn5sxGh++2p6m9j+n6PY/Gx9E5Xad1kZZruKnJN2GrqXf1Gl0k22Tio9RvNukOD46SVtX346fXpIl6fpmsI4sVz7oJO0AANBFCs5v/G9h5w3BO0mHzm/1Df8j9txi/iHk7SAAAAyjBL/KfMvVeUr/bpy/RQI4gvq68a/DLRsAwBmUAAAAAACuhxIAAAAAwPVQAgAAAAC4HkoAAAAAANdDCQAAAADgeigBAAAAAFwPJQAAAACA66EEAAAAAHA9lAAAAAAArocSAAAAAMD1UAIAAAAAuB5KAAAAAADXQwkAAAAA4HooAQAAAABcDyUAAAAAgOuhBAAAAABwPZQAAAAAAK6HEgAAAADA9VACAAAAALgeSgAAAAAA10MJAAAAAOB6KAEAAADAz3Ofvj4/P2eeD10OSvCrfDye64Q9Hx+q/B08nktALEFxn55fj49bGyxm0Ny/Jrfs9mqntbseS6rbfG5Y+jdsbQjsc9uv6jRjX1j9rNqfvu7ChjLGhunu11nGPd1TWd9/rv2Vf0b6l/Mr7fLmp26jR9P+NH1NRTf0X2f8H4+vp9RrZC8fTo5/dtjeRdnftu3OD/HV6J6NL3d8J/3njn+xLbLf1R/dvxa+239Fd46JYxzRH/WPN/5xljg/oFvb+F3na0zH/rzntetRz0NHv14jYt0O6f8bKMElSMGlg2p2tpaPk4Kg1p+DeAsS2a+sn0mB9aySvab9l/6z2kyXurLtOhgfT92OR2SfLK/7n0k+bDd72b81LonqZ9VtF0vZJJqF5/hvj3+8/vOGWPWf7WkOBn9+RpD9yvZLH9LeBmf8eW4MWx6VvbL/vfZHyPaJr1b+3fE1Mj45LgvPfiUX9vXs3+M/j+/336ybbM32vfQnww8eZ/RH/BONf5TczgG9goqDH8azX9n1SsIsOz39em3U+6bE0/9H2D7kp/pXgM1Pq68Br1mrfPLfHFM2ldoB7ZNEWoStc+ry6W5nvWrylP74RrEysAGofpOOyNjXBW0EVA6ax7QtTKfPelHvIbJvK7cTAOtQXcezfD58KBi+suj5rxD5x+3fGHOKl9LW6Px4mP0KIv/1xq/GLerE83sONT7ia8OJlbfF1+D4DvuvkdvzN2p/5D8Tp623+S+hbiNjX71Vf8H0jzOWevyjyORPlXXO34QXH3L8dZ2cYNbyum7pI42x9p/R92qjYf8W29utuWWnpz9209bRz5S+j839D1B9WBxeNrySrDWbrrER9m4C5JNEctZWbidsVjuKEhyGrothu0T2ay2obbx64ytBtwafs1DNRT1AZF8q7y8YfajKJ+XDh8KAfxM9/xUi/1j9WzIpH52fHu2mqHUj/3XHLw5u2VY8v+eQPiS++jIpPxVfg+M77L9F3pu/Ufsj/1n0bHqL/6r20thk3I1yVj9h+Wdk/KOk9i0d2ZY8f716K/e7WLt6/Td6KU+o9ivps+JL2Y9n/zb/Wx5i17P1V5rkUd+49fX/taStOLiajOT4euKaa0fl1C1DVg6zFmDqR8qWPn2ntvW8bFzR2CrsrMa62W60K4JULk612VhjNvRGiezb/OYdWHJ+dBuHDwUVCwaB/yJ5werfkkn56PyMYm1KXf8NjH/d+Azb4vk9B/E1Y/VvyaT8VHyNjO92wn+N3J6/Ufsj/1nENo3332M9n5Kue5vic1Y/YflnZPznketPJywJt88m2Zlpx9E+lDVJmqHbs8GizP/a7uCaKNQP1NL//yOqD/UC6SRttSN73xuv7ZQ2rQVoyW6doBJ15IHZxVmE9SbY9JtsFwGXn1xkUDo3I9lvD3t81qIeIbIv9pu+CZHIQ0HN/yJT/Thz2bbd919dT/ZZs6d/9fXLwPyMo/3Z89/Q+Jf1Nez3N0J8zezp/23x5bQvOey/jtxqu2d/5D8TZ3xv89+FMP0zMP63U5+/FXYcpLU7FltZJh6QvAeBPTRJe1m/B9pMNpb1L+3/H1B9GE3abkuyZmTB8npUTqwsz5usMSl2UC2UCTX0ImT/CblR1P3myV/tt4OyTlzbDXV56jF0zEU9QN8+XZ5oE+tvPFSzrrxZmX0w68f+q9uRfdZ4/cu/VZDxNTo/NnpTsx4EfP+Njr88LUu5PW6ln5MtO1mJkO0TX7Kt74yvaHxWH/v8Z8l/cv/6bv+N4a+vd+H5Jxr/WdT5phKrGSsOVFK5nLN6HPM6U33drPjdh2nXbup9wN4TupT9c6/ez7F9WDPbNMmL4cmBeeOWk2c8hSeav/exFkadQee+qp9MWBeTpLRRynWwDCP7zzYsQV0mK1FNWBlT/fMLc/+1va9gq8a+Bp540im+1GMboGffs/df8rc+2vkxFrjSnSlznzcZWS42BRkDWbfxu+2/JNNjaP2zu//mQNjk3vz0seKz8mHPf+nGQOno8Ze+rM1L+6Zg+ejAGiG+9vf/1vgy2v+s9t2T/tNjL8w+GLFft7Fj/1r4bv/FfF/SNuIfb/zvQMZO27+1f7V1Wvuf688MycQt1zOSwdiGgLyO2/1E9j1CPY69+nMc7rD551GCMe76lu0YBzJhAHBJG9171iYAwM/SJI5OYvh9pMT2wAPvz6IEXeST3N4s1m2LxA3gPOJJFQAA/lcoAQAAAABcDyUAAAAAgOuhBAAAAABwPZQAAAAAAK6HEgAAAADA9VACAAAAALgeSvDP/xSH9+OFze+/JPnJV2V4/O7vzFyD6KdhovJrcP4X2a1fDT8bH5F+8e0lf6tN/uo6AADsoRXkDb86COYD4t/53aecsHVeE5LGUycIcrynEb/gndq/ZkLyjUQHc1R+Euu1Rcc58ePPKRZkbJ2Nj0B//aXyt/349fuRNgMAwDDVB+M9iol0EFivszKf6OVrosSBV27B6vbWpHDV3W4n1jojB6eTDNSvwqiTNpngvQP5XkDPpx5d/4g6smyVy6RV+K+9iUyv39I+cxGv0pGJgbxBk31H5VH8qDae1TvwpO5CkyDIOrJ9UT7djydt1itYzsbHsP6JpK0bH5H/bp35qdsw9AAAIKT64G30lVzeVEkduUHnxENu0OXgL/LX57VNw4bRm5OSXPbks/3z115W3bOYh6ocf0THP+oVRfXNi3OA1zZJH8mbyJCX72QCKROTcMyd8ih+5M3onNi2Or146bcvX2Fy5uvRpKvtOBsfw/rGOhohio++/8bmR/sZAAAG2T7IDXtlNGmTT+Er4vAKDpTm0A3q1nj2y6RtvkExEqA3MHyo9vDGPJCUFd/l25Lcr7wpki8N1olFF2OO35a0GW23Nsqx2LhJW9S+5XfP1ojcl7bjbHwM61tjGaITH5H/BucnYSb7AAAQUX1wkwL768VMczgMbtrRgVKVuwewhXOAeV+P7m5/APX3Oo5Pu3j+cdqqD/L53/M85H/fbZ26r/GbJH1DIv2ZceYhLo/iJyqf8ec00Lf87toa4CZt5+JjWN8ayxGa+Aj8F5ZvkLQBAByiFaRDod7s5dcfzW3W8uRd15f6JgMHSj54B+pJ5N+pya93VJKRDiV56CVZukGQ8hFePpmEP3YfTp1xy6+n1EH50p2mRT+185RJqtC3xu8hE5hl/tX4ZD1JpzyKH10+3wy5Y8xzuSVPWr8mtdUmWjJ+xtFtZYbio9x2HdW/dWOoRxQfff9Z5Xp+rOQfAACGUII58SlffcgDazmo5/LXxvuYE5x6o27/UF58fdLIZ7xDxzy0BvDsL1+NtvLFpqpePqhPHCpN/6MJUWbAP43/vfJiuz4c/bkZo/Hhq+1pav9zim7/s/FBVG7XaW2U5Sp+StJt6Fr6TZ1GN9k2qfgYxbtNiuOjk7QF+nPsCnbY3vXNYB1ZrnzQSdoBAKCLFNiJQ+/p+ls4eFPwDtKh81t9w/+IPbeYfwj3dhAAACKU4FeRNwU/vrk7f4sEcAT1deNfh1s2AIAzKAEAAAAAXA8lAAAAAIDroQQAAAAAcD2UAAAAAACuhxIAAAAAwPVQAgAAAAC4HkoAAAAAANdDCQAAAADgeigBAAAAAFwPJQAAAACA66EEAAAAAHA9lAAAAAAArocSAAAAAMDF+A/zfS81bZfoKAAAAABJRU5ErkJggg==" alt="img_1.png"></p> <h3 id="_03、配置slaver"><a href="#_03、配置slaver" class="header-anchor">#</a> 03、配置Slaver</h3> <p>和配置Master(主)一样，在Slave配置文件my.cnf中添加如下配置：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[mysqld]
## 设置server_id,注意要唯一
server-id=101  
## 开启二进制日志功能，以备Slave作为其它Slave的Master时使用
log-bin=mysql-slave-bin   
## relay_log配置中继日志
relay_log=edu-mysql-relay-bin  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>配置完成后也需要重启mysql服务和docker容器，操作和配置Master(主)一致。</p> <h3 id="_04、链接master和slaver"><a href="#_04、链接master和slaver" class="header-anchor">#</a> 04、链接Master和Slaver</h3> <p>在Master进入mysql，执行<code>show master status;</code></p> <p><img src="data:image/png;base64,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" alt="img_3.png"></p> <p>File和Position字段的值后面将会用到，在后面的操作完成之前，需要保证Master库不能做任何操作，否则将会引起状态变化，File和Position字段的值变化</p> <p>在Slave 中进入 mysql，执行</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>change master to master_host='172.17.0.2', master_user='slave', master_password='123456', master_port=3306, master_log_file='mysql-bin.000001', master_log_pos= 2830, master_connect_retry=30;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAuIAAABECAYAAADEOVDlAAAUWUlEQVR4Xu2di3WkuhJFHc+k0pE4kA7EcUxwvi0hQenUTzTQbc8966693kMlJNVPFLgHPj4+Pr4JIYQQQgghL0c1EEIIIYQQQq5HNRBCCCGEEEKuRzUQQgghhBBCrkc1/Gxu9++/f/8ufH1qOXk7n1/379ufz++v+03JCCGEEELIimr4/vP51YrdR0FlyN9GKe7+fn1//lmOb/e/3/fbJt/W/ff76/OPPv9iovm7TK7311Htv+jn63H7vpcbpMcNE9pgH49xTr7Z+vwqa9/i512UuD1mm/83xX7rzXgYi7+RibhveejGUCY36Dbt58i9LFzLD2Imv5c+jft92auMflfyU/Mf82qx0fYwZbBdY9Ojxe10zGRxnsnfw2Ijvy7K5D9VrzOI6h+SohqqQd91catPU432QlnX4GCn2FP9Xow3/yvsGtnvLEI92pPwsM80rahX7c/z+RVfqEnMK+IrpMTXyTFxJmfYpxY8gY5ZbmVyj9v9sW/J9T9h6zP0P0KU37gv16LpZP0y+W8A7bRRishRP2XvFjMlljw/DOOF9s/k7wEfACKZPMvv344fP+/nB+enanA38n5HXIy83f1gYoq7YuPO0JWLp60SuY4tube7b8vhUSC4869zCPkjWYaNRv4sxpk7mr/a9VPqqefP1jfIv8qFsyX0hP3OwouP7IlKCuhwv+mNOLNP6L96/nK8xa8YB23ozB3Ff4ScE+Ojy+53GWN6bM//69PAT3m+cZEM9Cu49sNzG1YcXIUZX46PFuy9Sfmv6/bQddlXHm1rrosxovxP7DPG2wjGQl1nkDde/s3KPer+WuKnz42FOOoYyUD/1S9Cr9WfYpyn/Df08fPb25ddHXbol8rb/L0d1zGX//Kp85brcixvf9iDbyddiGOsrcfWQ7Jsf0/kqf/RB4bumX0yeSErtDN5lt+7mdm/Vtts14TVhoaNPf2lvPrHsLMfPw4z6y9E+2/DXT/GxqqDsY71fFt3N/6OoRpUcg10Y/RFPo7lZjsYp/QFJ0fypY+vWC/E10C3kv3DD4Rs/nphEAmyGFsW4jd1YbDs5M2P42G/bH3Y33qiE9kvBX1bA1OPl8VHWePcExFJSWp5jk7yzD6p/+oY8kJtX8SH83EjRhuJ+J8F/Sjb5ZqwHx6j/5eNAi9M23Gm35z9dDy8FCwOBVl8rG2W/9om3PcVWbyt/p3I/zPsU/xgxUcnzL8Juce2v4qbryG+4vhZ+jj6l7GM4kPuE4f81+RRfvc5/AvtAf0m5X1cy7+4Zuw3xFuL1z37wyw4zoYuxNFmm/74ECXb3zN5I/A/rgX9h3qhfTK5bI/ya0Zu2/cAU/uXrpdkvGb6j/np+McYZ4qp9cf7L86L61/O8fMzi59KEH8HUQ2j8ojhzEq20WbydhwZqvddDeasBR1SSefHjcMA75h64EA/c/7WPvSX60/XV5BPRAraVpH9YraNsAZgHX/0TUfpIWk6oV9TLF/KQiC1z4T/PsSFGPsavjVtbK1zJ0/FRyX2P25Mw5ipfrP2OxJfODfMr2RaRywOh/YwPhrKpsa4ZbNtYw0+MWyI9vbss+WUxlyPg3Vx2SOPUAU45p+xdvSPp7+U1Rys44qYO+q/dY62rgkbDBfaE/Sbkfd5LR3C/DfiXo+DOZSvxUKP641v3DjBXzyiIhBzLpSLOVS/3lf5Dm2A60f7ZPKxn7mOKfkFzOxfHxCfypaB/o4vrDyz4wfHhjlm1m/4eNx/cQ7tPzc/jbHNMZTNTkM1KOcNeAvJNtJM3o5dQ+FY3VCzgZDOnxUixcnjWj07mfNb/XGjDddnYCRCZL+zUHo0ahGAgWzoZGLFlUzO1D6Z/xZqsVr//It2mjvfXOdOnooPC/A/3tGPY2b6ZfKFV8RXiHVB6O1hfDQ8m6YXgrn8f4V9rHn3yD2kreoY5Wd0q62Px8cy/jJO/f834bOj/mv4+W1RfNr7HddvRl54Kv+tuE9sgfvDLN76Rntpwv3fWivkXCjvWP0qc/7DsUL7OPKZJ96R/BLS/ash7JfGqtTf8oXV9hHFT0C6/rn9d8Dwn6/zZPy48XcY1RArGCxEFwKjcplc9SmGFIk/62CvXza//pNRcX5LKgy6ctxlk/Mru4Its/UpuQhYsw/Y7yyUHiArOqm1puhNHp/u6TF3+A/HMGyjzzcI4n+W0+ID/L89adz6yI0n00/LA/uVY8OGl4N5KFD2MfYXtKk5rnUhwHmd/H+FfVSc7JIvPrXWNRa9rV+YX5pQ/8dxKZLrGMUPX+M6D/kPx8C5jQs5Fv+H9ZuQF87Kf/wpD8pxf1jw/d/x1mft0YMMffUh9x997ri/Z/JG4P/Mf5l9Mrmcx8+vXH4J2f4l+lafGHbM9Ee56Z82J46dkq1/Yv/F9eH6VR/Izyx++jlpn+dQDabztgQeGfo14zwtL1TjdDkkfT1/axv/FG+vbxhjYv7hN4QgL3bZZA8b3ZfjpU88vzy39hd6ro5N1odrU/YpRPY7CTs+FpZNSG+qUwxrf1BeL1b+tydgYp8C2kjbb0nEuom0PuPFbDx/s6HtX5zfxz5/T3z4a+tr32ISz831s+VKvxfElweurSI32jA+bPtXuTyvjNd0LLbrfin94vxvvMA+Uf7lcrsQM/Oh6KJu7NCGoGOkf7VzvxA6hfEw9qT/hrV5+W2dD/Mf1S+UW/NvfWbyH+1TbmTm9i6J7f+CtNkK3uivMmG7YV3Sv9CW7e+h3LYfxnlkg0g2I5d2wnn3yE9ncv9a+1e51i3VH/NzeP2n7R81hsXk+rP9N11/wc3PbAxbvxP9rBqSjfy9DM4w7lbJ9UTxUe+2S2LRNy9HPREg/ybtwoU3WdNy8k9Q9mH6+LUsNyu6gJuV/whuZz3VvZl/BSFPoRpEsfvDA4q8FnHn6hXi5D0Md/LcHAn5J2Gek2fBv3gcuYYPYzEOz0A1EEIIIYQQQq5HNRBCCCGEEEKuRzUQQgghhBBCrkc1EEIIIYQQQq5HNRBCCCGEEEKuRzUQQgghhBBCrmds6K+lsd4zqV92jv3gpedPvEv62Pw5x95Dflw/QgghhBBCGttBLVLbl42sAld+Lrv3l/3wi1KlcN7zrsqj86fAl+JwvRnYf69+hBBCCCGECFSDWwgjWBgrHuM8VaieNT9wuxufVD7yVPtZ/QghhBBCCDEa5grhrIitX2HcVyivnDG/gVmIP/tVqCP6EUIIIYQQYjRMFcLlZyHu0+BapELRu4ej8zucVogf1Y8QQgghhBCjYaoQ9n4WsvxjyINF6oH5I/A33s88VT9FP0IIIYQQQoyGvBB2CthapMonzOY4/c0jQSFtnidw5k/Hf5x3D/5xaXb+nH6EEEIIIYRMsR30VwcOGD/dsH8WAq/2a+hC1S90j82fj18YXoFoFvPe+bP6EUIIIYQQMoVqIIQQQgghhFyPaiCEEEIIIYRcj2oghBBCCCGEXI9qIIQQQgghhFyPaiCEEEIIIYRcj2oghBBCCCGEXI9qIIQQQgghhFyPavjZ3O7hO8bJ+6lfPQ0/ukQIIYQQQj6MhvYZd+ujNm+mFHfi8/L4Zcxt3e/50E40f5f5HyL6BVT7L/r5ety+7+UG6fBXR9sHlE682Vo+5rTFz7socXvMNv9v8MNffiz+RibivuWhG0OZ3KDbtJ8j97JwLT+ImfweP+h2X/Yqo9+V/NT8x7xabLQ9TBls19j0gA/epXbN4jyTv4fFRn5dlMl/ql5nENU/Z3D1+DPgPnkiqiH5cuW11KepRnuhrGswgFPsqX4vxpv/FXaN7HcWoR7tSXjYZ5pW1Kv25/n8ii/UJOYV8RVS4uvkmDiTM+xTC55Axyy3MrnH7f7Yt+T6n7D1GfofIcpv3JfrRfVk/TL5bwDttFGKyFE/Ze8WMyWWPD8M44X2z+TvAR8AIpk8y+/fjh8/53D1+B71RqDcmDp150FUg7uR9zvisojt7gQTU9wVG3eGrlw8bZXIdWzJvd19WwaJHOXOv84h5I9kGTYa+bMYZ+5o/mrXT6mnnj9b3yD/KhfOltAT9jsLLz6yJyopoMP9pjfizD6h/+r5y/EWv2IctKEzdxT/EXJOjI8uu99ljOmxPf+vTwM/5fnGRTLQr+DaD89tWHFwFWZ8OT5asPcm5b+u20PXZV95tK25LsaI8j+xzxhvIxgLdZ1B3nj5Nyv3qPtriZ8+NxbiqGMkA/1Xvwi9Vn+KcZ7y39DHz29vX3Z12KFfKm/z93Zcx1z+y6fOW67Lsbz9YQ++nXQhjrG2HlvFSra/J/LU/+gDQ/fMPpm8kBXamTzL72dI96/VNts1YbWhYWNPfymv/jHs7MdPTjZ/wR0/2J/ltaO2Wz9xnoifPo85/zFUg0quga5AX+TjWG62wwJLX3ByJF/64Oaz0QvxNdAdg3iOyuavzhIJsgSqLMRv6sJg2cmbH8fDftn6sL/1RCeyXwr6tgamHi+Lj7LGuScikpLU8hyd5Jl9Uv/VMeSF2r6ID+djMqKNRPzPgn6U7XJN2A+P0f/LJoYXpu0402/OfjoeXgoWh4IsPtY2y39tE+77iizeVv9O5P8Z9il+sOKjE+bfhNxj21/FzdcQX3H8LH0c/ctYRvEh94lD/mvyKL/7HN6F9pB+k/I+ruVfXDP2G+Ktxeue/WEWHGdDF+Jos01/fIiS7e+ZvBH4H9eC/kO90D6ZXLZH+TUjt+17gKn9S9dLMl4z/cf8dPxjjDMLnofze/1Wkv1ZnVfsNPz0Ko4feZ45/zFUw+g8xFtEttFm8nYcbWS972owZy3K4IV0ftw4DPCOqQc+9DPnb+1Df7n+dH0F+USkoG0V2S9m2whrANbxR990lB6SphP6NcXypSwEUvtM+O9DXIixr+Fb08bWOnfyVHxUYv/jxjOMmeo3a78j8YVzw/xKpnXE4nBoD+OjoWxqjCs26MEnhg3R3p59tpzSmOtx8C5Os/IIVYBj/hlrR/94+ktZzcE6roi5o/5b52jrmrDBcKE9Qb8ZeZ/X0iHMfyPu9TiYQ/laLPS43vjGjRP8xSMqAjHnQrmYQ/XrfZXv0Aa4frRPJh/7meuYkl/AzP71AfGpbBno7/jCyjM7fnBsYw7Vx7a/Pf6HGQPj/lzG38YcCm/jXHcNym6noBqU8wa8RWQbaSZvx9FGNozVDTUbCOn8WSFSnDiu1bOTOb/VHzfacH0GRiJE9jsLpUejFgEYyIZOJlZcyeRP7ZP5b6EWq/XPv2inufPNde7kqfiwAP/jHf04ZqZfJl94RXyFWBeE3h7GR8OzaXohm8v/V9jHmneP3EPaqo5Rfka32vp4fCzjL+PU/38TPjvqv4af3xbywnxcvxl54an8t+I+sQXuD7N468NCBgn3f2utkHOhvGP1q8z5D8cK7ePIZ554R/JLSPevhrBfGqtSf8sXVttHFD87cexvjz+3P69twkbr+cZcJm4MHkI1mAqsBIvQhcCoXCZXfYqxROLbDtB4/bL59Z+MinNbUmHQtZsBy07e/MquYMtsfUqugim231koPUBWdFJrTdGbPD7d02Pu8B+OYdhGn28QxP8sp8UH+H970rj1kZttpp+WB/Yrx4YNLwfzUKDsY+wvaFNzXGHX1Sc4r5P/r7CPipNd8sWn1rrGorf1C/NLE+r/OC5Fch2j+OFrXOch/+EYOLdxocbi/7B+E/LCWfmPP+VBOe4PC77/O976rD16kKGvPuT+o88d9/dM3gj8n/kvs08ml/P4+ZXLLyHbv0Tf6hPDjpn+KDf90+bEsWfA8XH+jjn+5P7c41TN9ZHHz4phuxNQDabztgQeGfo15Z+WF+rm1eWQ9PX8rW38U7y9vmGMifmH3xCCvNhlkz1sdF+Olz7x/PLc2l/ouTo1WR+uTdmnENnvJOz4WFg2Ib2pTjGs/UF5vVj5355giX0KaCNtvyUB6ybS+owXs/H8zYa2f3F+H/v8PfHhr62vfYtJPDfXz5Yr/V4QXx64torcqMP4sO1f5fK8Ml7Tsdiu+6X0i/O/8QL7RPmXy+1CzMyHoou6sUMbgo6R/tXO/QLoFMbD2JP+G9bm5bd1vr4YH9IvlFvzb31m8h/tU25k5vYuie3/grTZCt7orzJhu2Fd0r/Qlu3vody2H8Z5ZININiOXdsJ598ivINu/hv5VrnVL9cf8HF7/aftHjREQz5+PP7U/935GgZ+twcwP40bkSVRDspG/l8HYjjHJtUTxUe+2S8LSNy/Hussn/yDtgog3WdNy8k9Q9mH6+LUsxZhfXGbyH8HtrCe6N/OvIOQpVIModn94QJHXIu6IvUKcvIfhTp6bIyH/JMxz8iz4RPfINXwYi3F4BqqBEEIIIYQQcj2qgRBCCCGEEHI9qoEQQgghhBByPaqBEEIIIYQQcj2qgRBCCCGEEHI9qoEQQgghhBByPWNDfy2N9Z5J/bJz7AcvXX/iXdLH5s85+h7y4Xy+tocQQgghhDzPdrB+cch54bv8XHbvL/vhF6VK4bznXZVH50+BL8XhejPqTYI4f/f8hBBCCCGEbKgGtxBGsDBWPMbZU+jK806ZH7jdjU8qP/FUvMNCnBBCCCGEHEA1zBXCWRFbv8K4r1BeOWN+A7MQ3/3zEvHzm93nEkIIIYQQsqIapgrh8jTYfdpdi3AoevdwdH6HcwpxOd7+36gTQgghhBDSUA1ThbD3s5DlHzMeKMILB+aPUL8Jf+Kp+sjt+36gkCeEEEIIIf9rVENeCDsFbC3CZWFqjtN/2hEU0uZ5Amf+dPzHeXcxrirMk/PxH5/Wf7zproMQQgghhJCQ7aC/OnDAeOJr/ywEXl3Y0AW1X+gemz8fvzC8AtEsoqPzQUdjbYQQQgghhEyiGgghhBBCCCHXoxoIIYQQQggh16MaCCGEEEIIIdejGgghhBBCCCHXoxoIeT3Zf9ifEEIIIeT3oxoIeT3Zf9ifEEIIIeT3oxoIeT3Zf9ifEEIIIeSX8x8RzUA3/5iNfgAAAABJRU5ErkJggg==" alt="img_4.png"></p> <div class="language- extra-class"><pre><code>master_port：Master的端口号，指的是容器的端口号

master_user：用于数据同步的用户

master_password：用于同步的用户的密码

master_log_file：指定 Slave 从哪个日志文件开始复制数据，即上文中提到的 File 字段的值

master_log_pos：从哪个 Position 开始读，即上文中提到的 Position 字段的值

master_connect_retry：如果连接失败，重试的时间间隔，单位是秒，默认是60秒
</code></pre></div><p>在Slave 中的mysql终端执行<code>show slave status \G;</code>用于查看主从同步状态。</p> <p><img src="/assets/img/img_5.6ec808e5.png" alt="img_5.png"></p> <p>正常情况下，SlaveIORunning 和 SlaveSQLRunning 都是No，因为我们还没有开启主从复制过程。使用start slave开启主从复制过程，然后再次查询主从同步状态<code>show slave status \G;</code>。</p> <p><img src="/assets/img/img_6.9aa4f2ca.png" alt="img_6.png"></p> <p>SlaveIORunning 和 SlaveSQLRunning 都是Yes，说明主从复制已经开启。此时可以测试数据同步是否成功。</p></div></div>  <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=Mysql" title="标签">#Mysql</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/03/19, 14:00:51</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><!----> <a href="/pages/64216b/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">修改mysql最大连接数</div></a></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/pages/64216b/">修改mysql最大连接数</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:15717163552@163.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/qiumozhou/" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2022
    <span>Mr qiu | <a href="https://github.com/qiumozhou/" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d7f13529.js" defer></script><script src="/assets/js/2.5edb301e.js" defer></script><script src="/assets/js/4.82a8c3e8.js" defer></script>
  </body>
</html>
