<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>express连接mysql | Mr Qiu&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/logo.jpg">
    <meta name="description" content="web前端技术博客,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,React,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.9b2b34ec.css" as="style"><link rel="preload" href="/assets/js/app.7bb84225.js" as="script"><link rel="preload" href="/assets/js/2.377c5421.js" as="script"><link rel="preload" href="/assets/js/15.a0b7abb2.js" as="script"><link rel="prefetch" href="/assets/js/10.bfd3bcf5.js"><link rel="prefetch" href="/assets/js/11.6f5ff714.js"><link rel="prefetch" href="/assets/js/12.312dd1f1.js"><link rel="prefetch" href="/assets/js/13.4f23c26a.js"><link rel="prefetch" href="/assets/js/14.af22b943.js"><link rel="prefetch" href="/assets/js/16.f40ce59c.js"><link rel="prefetch" href="/assets/js/17.76afe1e7.js"><link rel="prefetch" href="/assets/js/18.164933cb.js"><link rel="prefetch" href="/assets/js/19.3b8a29a7.js"><link rel="prefetch" href="/assets/js/20.544319c7.js"><link rel="prefetch" href="/assets/js/21.07bfcf07.js"><link rel="prefetch" href="/assets/js/22.8414d63a.js"><link rel="prefetch" href="/assets/js/23.f44200df.js"><link rel="prefetch" href="/assets/js/24.1a08d11a.js"><link rel="prefetch" href="/assets/js/25.0c464352.js"><link rel="prefetch" href="/assets/js/26.7f1f056c.js"><link rel="prefetch" href="/assets/js/27.94f46303.js"><link rel="prefetch" href="/assets/js/28.ea4217ac.js"><link rel="prefetch" href="/assets/js/29.07390616.js"><link rel="prefetch" href="/assets/js/3.ecac2337.js"><link rel="prefetch" href="/assets/js/30.b66e5122.js"><link rel="prefetch" href="/assets/js/31.25202131.js"><link rel="prefetch" href="/assets/js/32.4dca4023.js"><link rel="prefetch" href="/assets/js/33.7aaede75.js"><link rel="prefetch" href="/assets/js/34.8d858ad4.js"><link rel="prefetch" href="/assets/js/35.0c830fae.js"><link rel="prefetch" href="/assets/js/36.14444537.js"><link rel="prefetch" href="/assets/js/37.9ad49c33.js"><link rel="prefetch" href="/assets/js/38.6cc030f4.js"><link rel="prefetch" href="/assets/js/39.1a2dee84.js"><link rel="prefetch" href="/assets/js/4.d4643be0.js"><link rel="prefetch" href="/assets/js/40.2a1a9d22.js"><link rel="prefetch" href="/assets/js/41.c48f27d1.js"><link rel="prefetch" href="/assets/js/42.fccb488f.js"><link rel="prefetch" href="/assets/js/43.12141539.js"><link rel="prefetch" href="/assets/js/5.79820d62.js"><link rel="prefetch" href="/assets/js/6.be240011.js"><link rel="prefetch" href="/assets/js/7.7789b4bf.js"><link rel="prefetch" href="/assets/js/8.6c9fbb9e.js"><link rel="prefetch" href="/assets/js/9.7a4d69bc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9b2b34ec.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.jpg" alt="Mr Qiu's blog" class="logo"> <span class="site-name can-hide">Mr Qiu's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/05012b/" class="nav-link">Python</a></div><div class="nav-item"><a href="/pages/3dc9eb/" class="nav-link">前端</a></div><div class="nav-item"><a href="/pages/29c828/" class="nav-link">数据库</a></div><div class="nav-item"><a href="/pages/c4ffa5/" class="nav-link">Linux</a></div><div class="nav-item"><a href="/pages/59618f/" class="nav-link">K8S</a></div> <a href="https://github.com/qiumozhou?tab=repositories" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/05012b/" class="nav-link">Python</a></div><div class="nav-item"><a href="/pages/3dc9eb/" class="nav-link">前端</a></div><div class="nav-item"><a href="/pages/29c828/" class="nav-link">数据库</a></div><div class="nav-item"><a href="/pages/c4ffa5/" class="nav-link">Linux</a></div><div class="nav-item"><a href="/pages/59618f/" class="nav-link">K8S</a></div> <a href="https://github.com/qiumozhou?tab=repositories" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>环境</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Nodejs</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/12671c/" class="sidebar-link">安装nodejs</a></li><li><a href="/pages/6878b6/" class="sidebar-link">express框架的使用</a></li><li><a href="/pages/0a451c/" class="sidebar-link">express中的路由嵌套</a></li><li><a href="/pages/10277b/" aria-current="page" class="active sidebar-link">express连接mysql</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/923ff0/" class="sidebar-link">sequelize的使用</a></li><li><a href="/pages/94964a/" class="sidebar-link">apidoc的使用</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-0c557b5e><div class="articleInfo" data-v-0c557b5e><ul class="breadcrumbs" data-v-0c557b5e><li data-v-0c557b5e><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-0c557b5e></a></li> <li data-v-0c557b5e><a href="/categories/?category=%E5%89%8D%E7%AB%AF" title="分类" data-v-0c557b5e>前端</a></li><li data-v-0c557b5e><a href="/categories/?category=Nodejs" title="分类" data-v-0c557b5e>Nodejs</a></li></ul> <div class="info" data-v-0c557b5e><div title="作者" class="author iconfont icon-touxiang" data-v-0c557b5e><a href="https://github.com/qiumozhou/" target="_blank" title="作者" class="beLink" data-v-0c557b5e>qiumozhou</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-0c557b5e><a href="javascript:;" data-v-0c557b5e>2022-03-19</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">express连接mysql<!----></h1>  <div class="theme-vdoing-content content__default"><h3 id="_01、安装依赖包"><a href="#_01、安装依赖包" class="header-anchor">#</a> 01、安装依赖包</h3> <p>执行<code>npm install mysql</code></p> <h3 id="_02、封装mysql模块"><a href="#_02、封装mysql模块" class="header-anchor">#</a> 02、封装mysql模块</h3> <p>项目结构如下:</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>拷贝如下代码至mysql.js</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var mysql      = require('mysql');
var connection = mysql.createConnection({
  host     : 'localhost',
  user     : 'root',
  password : '123456',
  database : 'demo'
});
    
connection.connect();
//执行SQL的函数
function exec(sql,params) {
	const promise = new Promise((resolve,reject)=&gt;{
		connection.query(sql, params, (err,result) =&gt; {
			if(err){
				reject(err);
				return;
			}
			resolve(result);
		})
	});
	return promise;
}

module.exports = exec
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="_03、业务代码中使用mysql模块"><a href="#_03、业务代码中使用mysql模块" class="header-anchor">#</a> 03、业务代码中使用mysql模块</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>var router = require('express').Router();
const exec = require('../../components/mysql/mysql')
//最终的路由模块

router.get('/test', function (req, res) {
    // res.send('我是app01模块');
    const sql = &quot;select * from student;&quot;
    exec(sql).then(data =&gt; {
        console.log(data)
        return res.jsonp(data)
    })
})


router.get('/add', function (req, res) {
    
    var sql = &quot;INSERT INTO student(name,age,sex) VALUES(?,?,?)&quot;
    var param = [&quot;qiumozhou&quot;,18,&quot;man&quot;]
    exec(sql,param).then(data =&gt; {
        console.log(data)
        return res.jsonp(data)
    })
})

module.exports = router

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="_04、重启服务并访问"><a href="#_04、重启服务并访问" class="header-anchor">#</a> 04、重启服务并访问</h3> <p>执行<code>node index.js</code>,浏览器打开&quot;http://localhost:8081/app1/test&quot;</p> <p><img src="/assets/img/mysql02.f4f708c7.png" alt=""></p></div></div>  <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=mysql" title="标签">#mysql</a><a href="/tags/?tag=express" title="标签">#express</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/03/19, 18:57:54</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/0a451c/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">express中的路由嵌套</div></a> <a href="/pages/923ff0/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">sequelize的使用</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/0a451c/" class="prev">express中的路由嵌套</a></span> <span class="next"><a href="/pages/923ff0/">sequelize的使用</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:15717163552@163.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/qiumozhou/" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2022
    <span>Mr qiu | <a href="https://github.com/qiumozhou/" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7bb84225.js" defer></script><script src="/assets/js/2.377c5421.js" defer></script><script src="/assets/js/15.a0b7abb2.js" defer></script>
  </body>
</html>
